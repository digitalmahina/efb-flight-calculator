# –ú–æ–¥—É–ª—å 9: MCP-INTEGRATION - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MCP

## üìã –û–ø–∏—Å–∞–Ω–∏–µ
–ú–æ–¥—É–ª—å –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å MCP (Model Context Protocol) —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

## üéØ –§—É–Ω–∫—Ü–∏–∏
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MCP —Å–µ—Ä–≤–µ—Ä–∞–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ MCP –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ MCP –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ MCP

## üìÅ –§–∞–π–ª—ã –º–æ–¥—É–ª—è
- `mcp-client.js` - MCP –∫–ª–∏–µ–Ω—Ç
- `mcp-tools.js` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- `weather-mcp.js` - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –ø–æ–≥–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚≠ê
- `test-weather.js` - –¢–µ—Å—Ç—ã –ø–æ–≥–æ–¥–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `test-weather.html` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `mcp-handlers.js` - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- `mcp-cache.js` - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `mcp-config.js` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MCP

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `shared/constants.js` - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- `shared/utils.js` - –£—Ç–∏–ª–∏—Ç—ã
- `shared/event-bus.js` - –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π

## üöÄ API –º–æ–¥—É–ª—è
```javascript
export default {
    init: () => {},           // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MCP
    destroy: () => {},        // –û—á–∏—Å—Ç–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    update: (data) => {},     // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    getState: () => {},       // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    setState: (state) => {},  // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    
    // MCP —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    connect: (server) => {},  // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
    disconnect: () => {},     // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
    callTool: (tool, params) => {}, // –í—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
    listTools: () => {},      // –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
    getToolInfo: (tool) => {} // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ
}
```

## üìù –°–æ–±—ã—Ç–∏—è
- `mcp-connected` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MCP —Å–µ—Ä–≤–µ—Ä—É
- `mcp-disconnected` - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
- `mcp-tool-call` - –í—ã–∑–æ–≤ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- `mcp-tool-result` - –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- `mcp-error` - –û—à–∏–±–∫–∞ MCP

## üõ†Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **Figma MCP** - –†–∞–±–æ—Ç–∞ —Å Figma —Ñ–∞–π–ª–∞–º–∏
- **SVG Maker** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SVG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **Web Search** - –ü–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- **Weather MCP** - –ü–æ–≥–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤–∏–∞—Ü–∏–∏ ‚≠ê
  - `get_current_weather` - –¢–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞
  - `get_weather_forecast` - –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã
  - `get_metar_data` - METAR –¥–∞–Ω–Ω—ã–µ
  - `get_taf_data` - TAF –ø—Ä–æ–≥–Ω–æ–∑—ã
  - `get_wind_data` - –î–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –≤–µ—Ç—Ä–µ
  - `get_weather_alerts` - –ü–æ–≥–æ–¥–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

## üé® –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–µ–∫—Ç–æ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö MCP –æ–ø–µ—Ä–∞—Ü–∏–π

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```javascript
const MCP_CONFIG = {
    servers: {
        figma: {
            url: 'mcp://figma',
            tools: ['get_figma_data', 'download_figma_images']
        },
        svgmaker: {
            url: 'mcp://svgmaker',
            tools: ['svgmaker_generate', 'svgmaker_edit']
        }
    },
    cache: {
        enabled: true,
        ttl: 300000 // 5 –º–∏–Ω—É—Ç
    },
    retry: {
        attempts: 3,
        delay: 1000
    }
}
```
