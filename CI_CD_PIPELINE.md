# üöÄ CI/CD Pipeline Documentation

## üìã –û–±–∑–æ—Ä

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CI/CD pipeline –¥–ª—è EFB Calculator –ø—Ä–æ–µ–∫—Ç–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π —Å–±–æ—Ä–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Pipeline

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **üîç Linting & Code Quality** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- **üß™ Testing** - –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **üèóÔ∏è Build** - —Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **üîí Security** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **üöÄ Deployment** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- **üìä Monitoring** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Workflows

### 1. CI/CD Pipeline (`.github/workflows/ci-cd-pipeline.yml`)
**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ `main` –∏ `develop`
- Pull Request –≤ `main` –∏ `develop`
- Manual trigger

**–≠—Ç–∞–ø—ã:**
1. **Linting** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. **Testing** - unit, integration, performance —Ç–µ—Å—Ç—ã
3. **Build** - —Å–±–æ—Ä–∫–∞ –∏ —É–ø–∞–∫–æ–≤–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
4. **Security** - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. **Deployment** - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ staging/production
6. **Monitoring** - –ø–æ—Å—Ç-–¥–µ–ø–ª–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 2. Testing (`.github/workflows/testing.yml`)
**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ `main` –∏ `develop`
- Pull Request –≤ `main` –∏ `develop`
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 2:00 AM)

**–≠—Ç–∞–ø—ã:**
1. **Unit Tests** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
2. **Integration Tests** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
3. **Performance Tests** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **Security Tests** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. **Test Summary** - —Å–≤–æ–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 3. Deployment (`.github/workflows/deployment.yml`)
**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ `main`
- –¢–µ–≥–∏ –≤–µ—Ä—Å–∏–π (`v*`)
- Manual trigger

**–≠—Ç–∞–ø—ã:**
1. **Pre-deployment** - –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
2. **Build** - —Å–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
3. **Deploy Staging** - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ staging
4. **Deploy Production** - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ production
5. **Post-deployment** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### 4. Monitoring (`.github/workflows/monitoring.yml`)
**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- –ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö workflows
- Manual trigger

**–≠—Ç–∞–ø—ã:**
1. **Health Check** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
2. **Performance Monitoring** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **Security Monitoring** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
4. **Notifications** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏–π

### Staging Environment
- **URL**: https://staging.efb-calculator.com
- **–¢—Ä–∏–≥–≥–µ—Ä**: Push –≤ `develop`
- **–ó–∞—â–∏—Ç–∞**: –ë–∞–∑–æ–≤–∞—è

### Production Environment
- **URL**: https://efb-calculator.com
- **–¢—Ä–∏–≥–≥–µ—Ä**: Push –≤ `main` –∏–ª–∏ —Ç–µ–≥–∏
- **–ó–∞—â–∏—Ç–∞**: –°—Ç—Ä–æ–≥–∞—è (—Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è)

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- **Code Quality** - ESLint, Prettier, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∫–æ–¥–∞
- **Security** - npm audit, –ø–æ–∏—Å–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤
- **Performance** - —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤, –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
- **Health** - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

### –û—Ç—á–µ—Ç—ã
- **Test Reports** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Performance Reports** - –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Security Reports** - –æ—Ç—á–µ—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Health Reports** - –æ—Ç—á–µ—Ç—ã –æ –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Pipeline
```bash
# –ú–µ–Ω–µ–¥–∂–µ—Ä CI/CD pipeline
./scripts/ci-cd/pipeline-manager.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
gh run list

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
gh run view <run-id>

# –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow
gh workflow run <workflow-name>
```

### –†—É—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ staging
gh workflow run deployment.yml -f environment=staging

# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ production
gh workflow run deployment.yml -f environment=production
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è
gh run list --workflow=deployment.yml

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ—Ç—Ä–∏–∫–∏
gh run list --workflow=monitoring.yml
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –≤–µ—Ç–æ–∫
- **main**: —Ç—Ä–µ–±—É–µ—Ç PR, 2 –æ–¥–æ–±—Ä–µ–Ω–∏—è, CI –ø—Ä–æ–≤–µ—Ä–∫–∏
- **develop**: —Ç—Ä–µ–±—É–µ—Ç PR, 1 –æ–¥–æ–±—Ä–µ–Ω–∏–µ, —Ç–µ—Å—Ç—ã

### –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Secrets Detection** - –ø–æ–∏—Å–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∫–æ–¥–µ
- **Dependency Audit** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- **File Permissions** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- **Code Security** - –∞–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
- **Caching** - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Parallel Jobs** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- **Artifact Management** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Build Time** - –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏
- **Test Duration** - –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Deployment Speed** - —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **Resource Usage** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

## üö® Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
```bash
# Workflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
gh run list --status=queued

# –¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç
gh run view <run-id> --log

# –î–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
gh run list --workflow=deployment.yml
```

### –û—Ç–ª–∞–¥–∫–∞
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
gh run view <run-id> --log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
gh run list --limit=10

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å workflow
gh run rerun <run-id>
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### ‚úÖ –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] GitHub Actions –≤–∫–ª—é—á–µ–Ω—ã
- [ ] Workflows –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –û–∫—Ä—É–∂–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã
- [ ] Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –ó–∞—â–∏—Ç–∞ –≤–µ—Ç–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] Secrets —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Dependency audit –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] File permissions –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

### ‚úÖ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- [ ] Staging environment —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Production environment –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] GitHub Pages –ø–æ–¥–∫–ª—é—á–µ–Ω
- [ ] Health checks —Ä–∞–±–æ—Ç–∞—é—Ç

### ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è
- [ ] –û—Ç—á–µ—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
- [ ] –ê–ª–µ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
1. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å** –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º PR
2. **–ò—Å–ø—Ä–∞–≤–ª—è–π—Ç–µ –æ—à–∏–±–∫–∏** CI/CD –±—ã—Å—Ç—Ä–æ
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã** –ø–µ—Ä–µ–¥ push
4. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –º–µ—Ç—Ä–∏–∫–∞–º–∏** –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–ª—è DevOps
1. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ pipeline** —Ä–µ–≥—É–ª—è—Ä–Ω–æ
2. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã** –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
4. **–í–µ–¥–∏—Ç–µ –ª–æ–≥–∏** –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
1. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏** –∫–∞—á–µ—Å—Ç–≤–∞
2. **–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ª–∏–∑—ã** –∑–∞—Ä–∞–Ω–µ–µ
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –∫–æ–º–∞–Ω–¥—ã
4. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ—Ç—á–µ—Ç—ã** –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [Workflow Syntax](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions)
- [Environment Protection Rules](https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment)
- [Secrets Management](https://docs.github.com/en/actions/security-guides/encrypted-secrets)

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö workflows
gh run list --limit=20

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ run
gh run view <run-id> --log

# –°–ø–∏—Å–æ–∫ workflows
gh workflow list

# –ó–∞–ø—É—Å–∫ workflow
gh workflow run <workflow-name>
```

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **Issues**: [GitHub Issues](https://github.com/digitalmahina/efb-flight-calculator/issues)
- **Discussions**: [GitHub Discussions](https://github.com/digitalmahina/efb-flight-calculator/discussions)
- **Documentation**: [Project Wiki](https://github.com/digitalmahina/efb-flight-calculator/wiki)

---
**üöÄ CI/CD Pipeline –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
